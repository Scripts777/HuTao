-- =========================
-- SERVICES
-- =========================
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- =========================
-- ÐÐÐ¡Ð¢Ð ÐžÐ™ÐšÐ˜
-- =========================
local MIN_INCOME = 10_000_000 -- ðŸ”¥ 10M/s Ð¸ Ð±Ð¾Ð»ÑŒÑˆÐµ
local FAIL_TEXT = "ÐÐ•Ð¢Ð£ Ð¢Ð£Ð¢ ÐÐ˜Ð¥Ð£Ð¯"

local SAVE_FOLDER = "Xeno"
local SAVE_FILE = "Xeno/GaG.txt"

-- =========================
-- ÐŸÐÐ Ð¡Ð•Ð  Ð”ÐžÐ¥ÐžÐ”Ð $/s
-- =========================
local function parseIncome(text)
    if type(text) ~= "string" then return 0 end
    text = text:gsub("%s+", "")

    local num, suffix = text:match("%$(%d+%.?%d*)([KkMmBb]?)/s")
    if not num then return 0 end

    local v = tonumber(num) or 0
    if suffix == "K" or suffix == "k" then
        v *= 1e3
    elseif suffix == "M" or suffix == "m" then
        v *= 1e6
    elseif suffix == "B" or suffix == "b" then
        v *= 1e9
    end

    return v
end

-- =========================
-- Ð¡ÐšÐÐ Debris
-- =========================
local totalIncome = 0
local incomes1 = {}

local debris = workspace:FindFirstChild("Debris")
if debris then
    for _, obj in ipairs(debris:GetDescendants()) do
        if obj:IsA("TextLabel") and obj.Name == "Generation" then
            local inc = parseIncome(obj.Text)
            if inc >= MIN_INCOME then
                totalIncome += inc
                incomes1[#incomes1 + 1] = inc
            end
        end
    end
end

-- =========================
-- Ð¡ÐžÐ¥Ð ÐÐÐ•ÐÐ˜Ð• Ð’ Ð¤ÐÐ™Ð› (Ð¢ÐžÐ›Ð¬ÐšÐž > 10M/s)
-- =========================
pcall(function()
    if #incomes1 > 0 then
        if not isfolder(SAVE_FOLDER) then
            makefolder(SAVE_FOLDER)
        end

        local block =
            "Username: " .. player.Name .. " (" .. player.UserId .. ")\n" ..
            "BrainrotsCount (>10M/s): " .. #incomes1 .. "\n"

        for _, inc in ipairs(incomes1) do
            if inc >= 1e9 then
                block ..= string.format("%.2fB/s,\n", inc / 1e9)
            else
                block ..= string.format("%.2fM/s,\n", inc / 1e6)
            end
        end

        block ..= "\n=================\n"

        if isfile(SAVE_FILE) then
            appendfile(SAVE_FILE, block)
        else
            writefile(SAVE_FILE, block)
        end
    end
end)

-- =========================
-- KICK
-- =========================
if #incomes1 > 0 then
    player:Kick("ÐÐ°Ð¹Ð´ÐµÐ½ Ð´Ð¾Ñ…Ð¾Ð´ > 10M/s")
else
    player:Kick(FAIL_TEXT)
end
